const TelegramBot = require('node-telegram-bot-api');

// –ü–û–õ–£–ß–ò –¢–û–ö–ï–ù –£ @BotFather –ò –í–°–¢–ê–í–¨ –°–Æ–î–ê!
const TOKEN = '8501287288:AAGtqz3fOI8BscFKoZU56xToL1VoTWRehQ8';

// –°–æ–∑–¥–∞–µ–º –±–æ—Ç–∞
const bot = new TelegramBot(TOKEN, { polling: true });

// –ù–ê–°–¢–†–û–ô –≠–¢–ò –î–ê–ù–ù–´–ï –ü–û–î –°–ï–ë–Ø!
const COUPLE_INFO = {
    startDate: '2023-01-06', // –¢–í–û–Ø –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏–π
    hisName: '–°—É–ª–µ–π–º–∞–Ω',     // –¢–í–û–ï –∏–º—è
    herName: '–ò—Ä–∞'           // –ï–ï –∏–º—è
};

// –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏
const mainMenu = {
    reply_markup: {
        keyboard: [
            ['üíï –ù–∞—à–∏ –¥–Ω–∏ –≤–º–µ—Å—Ç–µ', 'üíå –¶–∏—Ç–∞—Ç–∞ –æ –ª—é–±–≤–∏'],
            ['üéØ –ò–¥–µ—è –¥–ª—è —Å–≤–∏–¥–∞–Ω–∏—è', 'üíù –ö–æ–º–ø–ª–∏–º–µ–Ω—Ç –¥–ª—è –Ω–∞—Å']
        ],
        resize_keyboard: true
    }
};

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start
bot.onText(/\/start/, (msg) => {
    const chatId = msg.chat.id;
    
    const welcomeText = `üíñ –ü—Ä–∏–≤–µ—Ç, –ª—é–±–∏–º—ã–µ! üíñ

${COUPLE_INFO.hisName} –∏ ${COUPLE_INFO.herName}!
–Ø –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –±–æ—Ç –ª—é–±–≤–∏! üíï

–ß—Ç–æ —è —É–º–µ—é:
‚Ä¢ üìÖ –°—á–∏—Ç–∞—Ç—å –¥–Ω–∏ –≤–∞—à–µ–π –ª—é–±–≤–∏
‚Ä¢ üíå –ì–æ–≤–æ—Ä–∏—Ç—å –∫—Ä–∞—Å–∏–≤—ã–µ —Å–ª–æ–≤–∞
‚Ä¢ üéØ –ü—Ä–µ–¥–ª–∞–≥–∞—Ç—å –∏–¥–µ–∏ —Å–≤–∏–¥–∞–Ω–∏–π
‚Ä¢ üíù –î–µ–ª–∞—Ç—å –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã

–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –º–µ–Ω—é –Ω–∏–∂–µ üëá`;
    
    bot.sendMessage(chatId, welcomeText, {
        reply_markup: mainMenu.reply_markup
    });
});

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Å –∫–Ω–æ–ø–æ–∫
bot.on('message', (msg) => {
    const chatId = msg.chat.id;
    const text = msg.text;

    // –ö–Ω–æ–ø–∫–∞ "–ù–∞—à–∏ –¥–Ω–∏ –≤–º–µ—Å—Ç–µ"
    if (text === 'üíï –ù–∞—à–∏ –¥–Ω–∏ –≤–º–µ—Å—Ç–µ') {
        const start = new Date(COUPLE_INFO.startDate);
        const today = new Date();
        const days = Math.floor((today - start) / (1000 * 60 * 60 * 24));
        
        const message = `üíë –í—ã –≤–º–µ—Å—Ç–µ —É–∂–µ ${days} –¥–Ω–µ–π! üíë

–í–∞—à–∞ –ª—é–±–æ–≤—å –Ω–∞—á–∞–ª–∞—Å—å: ${COUPLE_INFO.startDate}
–ö–∞–∂–¥—ã–π –¥–µ–Ω—å —Å –≤–∞–º–∏ ‚Äî —ç—Ç–æ –ø—Ä–∞–∑–¥–Ω–∏–∫! üéâ`;
        
        bot.sendMessage(chatId, message);
    }
    
    // –ö–Ω–æ–ø–∫–∞ "–¶–∏—Ç–∞—Ç–∞ –æ –ª—é–±–≤–∏"
    else if (text === 'üíå –¶–∏—Ç–∞—Ç–∞ –æ –ª—é–±–≤–∏') {
        const quotes = [
            "üíñ –õ—é–±–æ–≤—å ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ —Å—á–∞—Å—Ç—å–µ –¥—Ä—É–≥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º –¥–ª—è —Ç–≤–æ–µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ.",
            "‚ú® –°–∞–º–æ–µ –±–æ–ª—å—à–æ–µ —Å—á–∞—Å—Ç—å–µ –≤ –∂–∏–∑–Ω–∏ ‚Äî —ç—Ç–æ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å, —á—Ç–æ —Ç–µ–±—è –ª—é–±—è—Ç.",
            "üåπ –ú—ã –ª—é–±–∏–º –Ω–µ –∑–∞ —Ç–æ, —á—Ç–æ —á–µ–ª–æ–≤–µ–∫ –¥–µ–ª–∞–µ—Ç –¥–ª—è –Ω–∞—Å, –∞ –∑–∞ —Ç–æ, —á—Ç–æ –º—ã —á—É–≤—Å—Ç–≤—É–µ–º, –∫–æ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏–º—Å—è —Å –Ω–∏–º.",
            "üåü –õ—É—á—à–µ–µ –≤ –∂–∏–∑–Ω–∏ ‚Äî —ç—Ç–æ –ª—é–±–∏—Ç—å –∏ –±—ã—Ç—å –ª—é–±–∏–º—ã–º.",
            "üíë –¢—ã ‚Äî –º–æ–µ —Å–∞–º–æ–µ –±–æ–ª—å—à–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ."
        ];
        
        const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
        bot.sendMessage(chatId, `üíå –†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è —Ü–∏—Ç–∞—Ç–∞:\n\n"${randomQuote}"`);
    }
    
    // –ö–Ω–æ–ø–∫–∞ "–ò–¥–µ—è –¥–ª—è —Å–≤–∏–¥–∞–Ω–∏—è"
    else if (text === 'üéØ –ò–¥–µ—è –¥–ª—è —Å–≤–∏–¥–∞–Ω–∏—è') {
        const ideas = [
            "üé¨ –í–µ—á–µ—Ä –∫–∏–Ω–æ –ø–æ–¥ –ø–ª–µ–¥–æ–º —Å –ª—é–±–∏–º—ã–º–∏ —Ñ–∏–ª—å–º–∞–º–∏ –∏ –ø–æ–ø–∫–æ—Ä–Ω–æ–º",
            "üå≥ –†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–∏–∫–Ω–∏–∫ –≤ –ø–∞—Ä–∫–µ —Å –∫–æ—Ä–∑–∏–Ω–∫–æ–π –≤–∫—É—Å–Ω–æ—Å—Ç–µ–π",
            "üç≥ –ì–æ—Ç–æ–≤–∏—Ç—å —É–∂–∏–Ω –≤–º–µ—Å—Ç–µ - –≤—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–∂–Ω—ã–π —Ä–µ—Ü–µ–ø—Ç!",
            "üíÉ –¢–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–π –≤–µ—á–µ—Ä –¥–æ–º–∞ –ø–æ–¥ –≤–∞—à–∏ –ª—é–±–∏–º—ã–µ –ø–µ—Å–Ω–∏",
            "üì∏ –§–æ—Ç–æ—Å–µ—Å—Å–∏—è –≤ –∫—Ä–∞—Å–∏–≤–æ–º –º–µ—Å—Ç–µ –≥–æ—Ä–æ–¥–∞",
            "üöó –°–ø–æ–Ω—Ç–∞–Ω–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞ –∑–∞ –≥–æ—Ä–æ–¥ –Ω–∞ –ø—Ä–∏—Ä–æ–¥—É",
            "üé® –ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –ø–æ —Ä–∏—Å–æ–≤–∞–Ω–∏—é –≤–¥–≤–æ–µ–º",
            "‚ú® –ù–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ –∑–≤–µ–∑–¥–∞–º–∏ –Ω–∞ –∫—Ä—ã—à–µ –∏–ª–∏ –≤ –ø–∞—Ä–∫–µ"
        ];
        
        const randomIdea = ideas[Math.floor(Math.random() * ideas.length)];
        const message = `üéØ –ò–¥–µ—è –¥–ª—è –≤–∞—à–µ–≥–æ —Å–≤–∏–¥–∞–Ω–∏—è:\n\n${randomIdea}\n\n–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –≤—Ä–µ–º—è–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è! üíï`;
        
        bot.sendMessage(chatId, message);
    }
    
    // –ö–Ω–æ–ø–∫–∞ "–ö–æ–º–ø–ª–∏–º–µ–Ω—Ç –¥–ª—è –Ω–∞—Å"
    else if (text === 'üíù –ö–æ–º–ø–ª–∏–º–µ–Ω—Ç –¥–ª—è –Ω–∞—Å') {
        const compliments = [
            "üíï –í—ã ‚Äî —Å–∞–º–∞—è –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è –ø–∞—Ä–∞ –Ω–∞ —Å–≤–µ—Ç–µ! –í–∞—à–∞ –ª—é–±–æ–≤—å —Å–∏—è–µ—Ç —è—Ä—á–µ –∑–≤–µ–∑–¥!",
            "‚ú® –í–∞—à–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è ‚Äî —ç—Ç–æ –ø—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç–æ—è—â–µ–π –≥–∞—Ä–º–æ–Ω–∏–∏ –∏ –≤–∑–∞–∏–º–æ–ø–æ–Ω–∏–º–∞–Ω–∏—è!",
            "üåπ –í–º–µ—Å—Ç–µ –≤—ã —Å–æ–∑–¥–∞–µ—Ç–µ –Ω–µ—á—Ç–æ –≤–æ–ª—à–µ–±–Ω–æ–µ! –í–∞—à–∞ —Å–≤—è–∑—å –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—Ç –æ–∫—Ä—É–∂–∞—é—â–∏—Ö!",
            "üåü –í—ã –∏–¥–µ–∞–ª—å–Ω–æ –¥–æ–ø–æ–ª–Ω—è–µ—Ç–µ –¥—Ä—É–≥ –¥—Ä—É–≥–∞, –∫–∞–∫ –¥–≤–µ –ø–æ–ª–æ–≤–∏–Ω–∫–∏ –æ–¥–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ!",
            "üíñ –í–∞—à–∞ –ª—é–±–æ–≤—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫—Ä–µ–ø—á–µ —Å –∫–∞–∂–¥—ã–º –¥–Ω–µ–º! –≠—Ç–æ —Ç–∞–∫ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ!"
        ];
        
        const randomCompliment = compliments[Math.floor(Math.random() * compliments.length)];
        bot.sendMessage(chatId, randomCompliment);
    }
});

// –°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
console.log('‚úÖ –ë–æ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω!');
console.log('üì± –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Telegram –∏ –Ω–∞–ø–∏—à–∏—Ç–µ /start –≤–∞—à–µ–º—É –±–æ—Ç—É');
console.log('üíï –ë–æ—Ç –≥–æ—Ç–æ–≤ –¥–∞—Ä–∏—Ç—å –ª—é–±–æ–≤—å –∏ —Ä–æ–º–∞–Ω—Ç–∏–∫—É!');